1 добавь ограничение на уникальность для картинок и еще чего нибудь + каскадное удаление
2 после того как сделаешь прогу и переделаешь бд с UNIQUE - протести добавление и если выскочит ошибочка то лови
